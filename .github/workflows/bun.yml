name: Bun CI

on:
  schedule:
    - cron: '0 13 * * 1'
  push:
    branches: [main, develop, renovate/*]
  pull_request:
    branches: [main, develop]

jobs:
  build:
    env:
      ADP_TOKEN: ${{ secrets.ADP_TOKEN }}
      PRIVATE_KEY: ${{ secrets.PRIVATE_KEY }}
    runs-on: ubuntu-latest
    name: Bun sample
    steps:
      - uses: actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332 # v4
      - uses: oven-sh/setup-bun@67b25f52d2a3e7255c9594b3134e1e4c63a79e1b # v2
        with:
          bun-version: 1.3.9
      - name: Install dependencies
        run: bun install
      - name: Run linter
        run: bun lint
      - name: Run tests
        run: bun run test
